# 更新日志

所有显著的变更都会记录在此文档中。此项目遵循 [语义化版本控制](https://semver.org/spec/v2.0.0.html)。

## [1.8.1] - 2025-03-06

### 优化
- 优化WEB界面显示效果，提升用户体验。
- 优化剧集搜索下载程序，排除搜索结果中发行年份不匹配的无效结果。

### 注意事项
- 本次更新涉及数据库结构变更，请先备份数据库文件（data.db），并删除config目录中的data.db数据库文件，再进行升级，升级完成后将重新生成数据库文件。

### 新增
- 正在订阅的剧集插入发行年份到数据库中，方便后续搜索下载使用。

## [1.8.0] - 2025-03-04

### 优化
- 优化NFO文件演职人员汉化功能对于多季电视节目的处理逻辑。

## [1.7.9] - 2025-02-28

### 优化
- 优化NFO文件演职人员汉化时的豆瓣ID匹配逻辑，提高匹配成功率。
- 优化电影和电视剧搜索下载程序，优先检查数据库中是否有需要下载的订阅，避免订阅为空时程序仍要启动并登录资源站点造成资源浪费。

## [1.7.8] - 2025-02-17

### 新增
- 新增自动删种时同步删除磁盘中的种子文件。

## [1.7.7] - 2025-02-14

### 优化
- 优化文件转移重命名时视频质量英文字母大小写不统一的问题。

## [1.7.6] - 2025-01-23

### 修复
- 修复了媒体库前端页面代码中JavaScript的一个小错误。

## [1.7.5] - 2025-01-22

### 新增
- 新增媒体库点击海报后显示该影片的简介。

### 优化
- 优化已知的一些问题，提升程序的稳定性。

### 注意事项
- 配置文件中url部分需要使用1.6.3版本配置方式。

## [1.7.4] - 2025-01-20

### 修复
- 修复手动搜索时WebDriver未自动关闭导致下一次搜索时WebDriver初始化失败导致程序崩溃的问题。

### 优化
- 优化已知的一些问题，提升程序的稳定性。

### 注意事项
- 配置文件中url部分需要使用1.6.3版本配置方式。

## [1.7.3] - 2025-01-08

### 优化
- 优化WebDriver初始化选项，提升一定的性能和响应速度。

### 新增
- 新增WebDriver支持保持站点登录状态，避免cookie有效期内重复登录。

### 注意事项
- 配置文件中url部分需要使用1.6.3版本配置方式。

## [1.7.2] - 2025-01-07

### 修复
- 修复扫描媒体库时某些剧集的多季总集数计数不正确的问题。
- 修复部分已知BUG。

### 新增
- 新增对已完成做种任务的自动删除功能。

### 注意事项
- 配置文件中url部分需要使用1.6.3版本配置方式。

## [1.7.1] - 2025-01-06

### 修改
- 重新改为使用基于WebDriver的方法进行资源搜索。

### 移除
- 移除了基于requests请求的方法，降低了效率并增加了资源消耗。

### 注意事项
- 配置文件中url部分需要使用1.6.3版本配置方式。

## [1.7.0] - 2024-12-24

### 增加
- 支持多CPU架构平台，推送beta版本以扩大兼容性。
- 引入`latest`版本标签，用于推送经beta版本测试后相对稳定的最新版本。
- 计划新增`stable`版本标签，推送经过beta和latest版本测试后的稳定版本。

### 修复
- 修复了豆瓣接口使用豆瓣ID和IMDB查询不到数据的问题，临时改为使用标题进行查询（可能由于豆瓣API接口限制）。
- 解决了一些其他已知问题。

### 修改
- 重构部分Python程序，优化代码结构和程序运行逻辑，以提高性能和可维护性。
- 推送beta版本，移除WebDriver方法，采用requests请求方法，以提升资源搜索和种子文件下载速度。
- 测试稳定后，该beta版本将被推送到`latest`版本标签。

### 移除
- 移除了基于WebDriver的方法，提高了效率并减少了资源消耗。

### 注意事项
- WebDriver方法的稳定版本1.6.3 (20241128)及之前版本均基于WebDriver方法。如果需要可以拉取1.6.3版本，但后续不再提供维护及更新。

## [1.6.3] - 2024-11-28

### 增加
- 新增下载管理功能，支持通过transmission下载器对下载任务进行简单的管理。

## [1.6.2] - 2024-11-21

### 修复
- 修复手动搜索资源时点击下载按钮失效的问题。
- 修正cookie有效期保存不正确的问题，确保关闭浏览器后再次打开无需重新登录。
- 解决部分已知BUG。

### 修改
- 优化WEB界面显示效果，提升用户体验。

## [1.6.1] - 2024-11-20

### 增加
- 手动搜索资源时支持关键词模糊搜索，并允许按分辨率筛选结果。

## [1.6.0] - 2024-11-19

### 修复
- 修正手动搜索资源并下载种子时下载目录不是Torrent目录的问题。
- 优化移动端豆瓣订阅信息WEB页面显示效果。

## [1.5.9] - 2024-11-18

### 修复
- 修正首选分辨率及备用分辨率未从配置文件读取的问题。
- 修复自动搜索资源时排除关键字不生效的问题。
- 增加WEB登录时用户名密码错误提示，并在登录页面显示版本号。

## [1.5.8] - 2024-11-15

### 修改
- 优化WEB界面显示效果。
- 指定WebDriver默认下载到/Torrent目录。
- 提升文件转移时文件名的识别准确率。

## [1.5.7] - 2024-11-14

### 增加
- 海报墙新增评分展示和在库剧集总集数展示。

### 修复
- 修复部分已知BUG。

## [1.5.6] - 2024-11-13

### 修复
- 修正全新创建数据库后某些功能模块写入权限不足的问题。
- 修复“修改密码”界面标题字体大小不一致的问题。

### 增加
- 增加文件转移时查询TMDB_ID的缓存，避免处理同一剧集时重复请求TMDB API接口。
- 修改主程序对停止信号的监测，确保接收到关闭信号时优雅退出。

## [1.5.5] - 2024-11-12

### 重构
- 重构程序运行逻辑，自建数据库不再依赖nas-tools。

### 增加
- 新增简单的WEB管理界面，支持：
  - 修改配置文件
  - 管理正在订阅的剧集和电影
  - 显示在库的电影和剧集
  - 搜索在库影视资源
  - 手动搜索资源和下载
  - 手动运行服务
  - 查看豆瓣最新想看
- 在库的电影和剧集改为海报墙方式展示，增强视觉效果。
- WEB管理界面支持响应式设计，适配不同分辨率终端设备。

### 修复
- 修复WEB管理界面：在库的电影和剧集无数据时程序异常崩溃的情况；完善部分消息提示功能。

[1.7.0]: https://github.com/smysong/mediamaster/releases/tag/1.7.0
[1.7.1]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.1
[1.7.2]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.2
[1.7.3]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.3
[1.7.4]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.4
[1.7.5]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.5
[1.7.6]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.6
[1.7.7]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.7
[1.7.8]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.8
[1.7.9]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.7.9
[1.8.0]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.8.0
[1.8.1]: https://github.com/smysong/mediamaster-chromedriver/releases/tag/1.8.1